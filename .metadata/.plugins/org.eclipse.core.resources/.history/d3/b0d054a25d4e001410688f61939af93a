package raphaelpantaleao.bankocr.tests.unit;

import static org.hamcrest.Matchers.equalTo;
import static org.hamcrest.Matchers.is;
import static org.junit.Assert.assertThat;
import static raphaelpantaleao.bankocr.tests.endtoend.TestConstants.NUMBER_IN_DIGITS;
import static raphaelpantaleao.bankocr.tests.endtoend.TestConstants.ZEROS;

import java.io.ByteArrayInputStream;

import org.junit.Test;

import raphaelpantaleao.bankocr.tests.endtoend.TestConstants;
import raphaelpantaleao.katabanckocr.models.DocumentProcessor;

public class DocumentProcessorTest {

	// @Rule
	// public JUnit4Mockery context = new JUnit4Mockery();
	private final DocumentProcessor docProcessor = new DocumentProcessor();

	@Test
	public void digitsConvertionSuccessfully() {
		ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(
				ZEROS.getBytes());
		docProcessor.process(byteArrayInputStream);
		
		for(int i = 0; i < TestConstants.NUMBER_IN_DIGITS.length; i++)
		assertThat(docProcessor.entries(), is(equalTo("000000000\n")));
	}
}